# Usando uma imagem base antiga e vulnerável
FROM ubuntu:14.04

# Desativando o uso de cache para demonstração, não é uma boa prática
RUN apt-get update && apt-get install -y --no-cache \
    curl \
    vim \
    wget

# Utilizando RUN múltiplos em vez de um único RUN com && para reduzir o número de camadas
RUN apt-get update
RUN apt-get install -y apache2
RUN apt-get install -y python3
RUN apt-get install -y python3-pip

# Instalando pacotes com versões específicas que podem ter vulnerabilidades conhecidas
RUN pip3 install flask==0.12.2
RUN pip3 install django==1.11.0

# Copiando arquivos diretamente para o sistema de arquivos raiz
COPY . /app

# Expondo portas sem documentar o motivo
EXPOSE 80
EXPOSE 443

# Utilizando variáveis de ambiente sem garantir a segurança
ENV SECRET_KEY mysecretpassword

# Definindo o usuário root, o que é uma má prática de segurança
USER root

# Comando de entrada sem especificar corretamente o comando e os argumentos
ENTRYPOINT python3 /app/app.py
